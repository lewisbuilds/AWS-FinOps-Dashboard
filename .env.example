AWS_DEFAULT_REGION=us-east-1
# Authentication (choose ONE method):

# (Preferred) Assume Role via OIDC or existing credentials chain
AWS_ROLE_ARN=

# (Alternative) Static credentials (avoid committing real keys)
# AWS_ACCESS_KEY_ID=YOUR_KEY_ID
# AWS_SECRET_ACCESS_KEY=YOUR_SECRET
# AWS_SESSION_TOKEN=

# Required resource tag keys (comma-separated)
REQUIRED_TAG_KEYS=Environment,Owner,Project,CostCenter

# Cost thresholds
DAILY_COST_WARNING=1000.00
MONTHLY_COST_WARNING=10000.00
ANOMALY_THRESHOLD=0.20

# Historical lookback for reports (optional legacy var)
LOOKBACK_DAYS=30

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json  # options: json, plain

# Resilience / reliability configuration
RATE_LIMIT_RPS=5               # Max AWS API calls per second (token bucket)
MAX_RETRIES=5                  # Max transient retries (throttling, timeouts)
BACKOFF_BASE=0.3               # Base seconds for exponential backoff
BACKOFF_MAX=8.0                # Cap for backoff sleep
CB_FAIL_THRESHOLD=5            # Consecutive transient failures to open circuit
CB_RESET_SECONDS=60            # Time before circuit half-opens

# Caching configuration
CACHE_BACKEND=memory            # memory or redis
CACHE_DEFAULT_TTL_SECONDS=300   # default TTL in seconds
# Optional per-domain TTL overrides (uncomment to customize)
# COST_TTL=600
# ANOMALY_TTL=900
# RECOMMENDATION_TTL=1800
# TAG_COMPLIANCE_TTL=3600
CACHE_MAX_ENTRIES=1000
# REDIS_URL=redis://localhost:6379/0  # If using redis backend

# Advanced anomaly detection
ANOMALY_HISTORY_DAYS=60
ANOMALY_ZSCORE_THRESHOLD=3.0
ANOMALY_IFOREST_CONTAMINATION=0.05
ANOMALY_METHOD=both          # zscore | iforest | both
ANOMALY_MIN_POINTS=14
ANOMALY_ALERT_ENABLED=true

# AWS Organizations / Multi-Account Support
# (Optional) Management (payer) account id to enable org-wide features
ORG_MANAGEMENT_ACCOUNT_ID=
# Role name present in member accounts for cross-account read access
ORG_MEMBER_ROLE_NAME=OrganizationAccountAccessRole
# Comma-separated allowlist of accounts (if set, only these considered)
# ORG_ACCOUNT_ALLOWLIST=111111111111,222222222222
# Comma-separated exclude list (always excluded)
# ORG_ACCOUNT_EXCLUDE_LIST=333333333333
# Cache TTL for organization account listing (seconds)
ORG_CACHE_TTL=1800